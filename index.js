
listSanPham1 = [
  {
    link: "https://images.pexels.com/photos/4112602/pexels-photo-4112602.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",
    ten: "TU LANH 1",
    gia: "5",
    info: "Lorem ipsum dolor sit amet consectetur.",
    danhMuc: "Tủ Lạnh",
  },
  {
    link: "https://images.pexels.com/photos/2251206/pexels-photo-2251206.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",
    ten: "TIVI PRO 1945",
    gia: "6.34",
    info: "Lorem ipsum dolor sit.",
    danhMuc: "Ti Vi",
  },
  {
    link: "https://images.pexels.com/photos/1457842/pexels-photo-1457842.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",
    ten: "TIVI BLACK COOL",
    gia: "9",
    info: "Lorem ipsum dolor sit amet.",
    danhMuc: "Ti Vi",
  },
  {
    link: "https://images.pexels.com/photos/7195881/pexels-photo-7195881.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",
    ten: "MAY GIAT PANASONIC 1",
    gia: "9.1",
    info: "Lorem ipsum dolor sit.",
    danhMuc: "Máy Giặt",
  },
  {
    link: "https://images.pexels.com/photos/5591836/pexels-photo-5591836.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",
    ten: "MAY GIAT TIET KIEM DIEN",
    gia: "20",
    info: "Lorem ipsum dolor sit.",
    danhMuc: "Máy Giặt",
  },
  {
    link: "https://images.pexels.com/photos/5552789/pexels-photo-5552789.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=650&w=940",
    ten: "TIVI CAM UNG",
    gia: "18",
    info: "Lorem ipsum dolor sit amet consectetur.",
    danhMuc: "Ti Vi",
  },
  {
    link: "https://images.pexels.com/photos/8774448/pexels-photo-8774448.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",
    ten: "MAY GIAT CONG NGHIEP",
    gia: "6.7",
    info: "Lorem ipsum dolor sit.",
    danhMuc: "Máy Giặt",
  },
  {
    link: "https://media.istockphoto.com/photos/vintage-plates-with-silver-teaspoons-picture-id184363070",
    ten: "DUNG CU AN UONG",
    gia: "10",
    info: "Lorem ipsum dolor sit amet consectetur adipisicing elit.",
    danhMuc: "Chung",
  },
  {
    link: "https://images.pexels.com/photos/1457845/pexels-photo-1457845.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",
    ten: "CHAN MUA HE",
    gia: "9.9",
    info: "Lorem ipsum dolor sit amet consectetur adipisicing.",
    danhMuc: "Chung",
  },
  {
    link: "https://images.pexels.com/photos/2659939/pexels-photo-2659939.jpeg?auto=compress&cs=tinysrgb&dpr=1&w=500",
    ten: "LAPTOP",
    gia: "99",
    info: "Lorem ipsum dolor sit amet consectetur, adipisicing elit.",
    danhMuc: "Chung",
  },
  {
    link: "https://media.istockphoto.com/photos/modern-kitchen-microwave-oven-picture-id1144960519",
    ten: "LO VI SONG",
    gia: "30",
    info: "Lorem ipsum dolor sit amet consectetur, adipisicing elit.",
    danhMuc: "Bếp",
  },
  {
    link: "https://media.istockphoto.com/photos/black-coffee-maker-with-green-led-lights-picture-id177395430",
    ten: "MAY PHA CA PHE",
    gia: "29.7",
    info: "Lorem ipsum dolor sit amet consectetur, adipisicing elit.",
    danhMuc: "Bếp",
  },
  {
    link: "https://images.pexels.com/photos/6606354/pexels-photo-6606354.jpeg?auto=compress&cs=tinysrgb&dpr=1&w=500",
    ten: "GIUONG DOI",
    gia: "100",
    info: "Lorem ipsum dolor sit amet consectetur, adipisicing elit.",
    danhMuc: "Nệm",

  },
  {
    link: "https://media.istockphoto.com/photos/woman-turning-on-air-conditioner-picture-id1325708905",
    ten: "DIEU HOA SONY",
    gia: "79",
    info: "Lorem ipsum dolor sit amet consectetur, adipisicing elit.",
    danhMuc: "Chung",
  },
  {
    link: "https://images.pexels.com/photos/3829560/pexels-photo-3829560.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",
    ten: "MAY RUA CHEN",
    gia: "9",
    info: "Lorem ipsum dolor sit amet consectetur, adipisicing elit.",
    danhMuc: "Chung",
  },
  {
    link: "https://images.pexels.com/photos/462235/pexels-photo-462235.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",
    ten: "TRANH TREO TUONG 01",
    gia: "36.5",
    info: "Lorem ipsum dolor sit amet consectetur, adipisicing elit.",
    danhMuc: "Tranh Treo Tường",

  },
  {
    link: "https://images.pexels.com/photos/1099816/pexels-photo-1099816.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",
    ten: "TRANH TREO TUONG CON ONG",
    gia: "25.6",
    info: "Lorem ipsum dolor sit amet consectetur, adipisicing elit.",
    danhMuc: "Tranh Treo Tường",
  },
  {
    link: "https://images.pexels.com/photos/1058770/pexels-photo-1058770.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",
    ten: "TRANH TREO TUONG 02",
    gia: "56",
    info: "Lorem ipsum dolor sit amet consectetur, adipisicing elit.",
    danhMuc: "Tranh Treo Tường",

  },
  {
    link: "https://images.pexels.com/photos/534151/pexels-photo-534151.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",
    ten: "GHE CAO 01",
    gia: "56",
    info: "Lorem ipsum dolor sit amet consectetur, adipisicing elit.",
    danhMuc: "Bàn Ghế",

  },
  {
    link: "https://images.pexels.com/photos/1139785/pexels-photo-1139785.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",
    ten: "GHE GO 01",
    gia: "56",
    info: "Lorem ipsum dolor sit amet consectetur, adipisicing elit.",
    danhMuc: "Bàn Ghế",

  },
  {
    link: "https://images.pexels.com/photos/534172/pexels-photo-534172.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",
    ten: "BAN AN COM 01",
    gia: "56",
    info: "Lorem ipsum dolor sit amet consectetur, adipisicing elit.",
    danhMuc: "Bàn Ghế",

  },
  {
    link: "https://vcdn-sohoa.vnecdn.net/2020/05/26/a4-8411-1590471771.jpg?w=0&h=0&q=100&dpr=2&fit=crop&s=zJrg1R0xBBtozlJRCXXoyw",
    ten: "TU LANH 02",
    gia: "56",
    info: "Lorem ipsum dolor sit amet consectetur, adipisicing elit.",
    danhMuc: "Tủ Lạnh",

  },
  {
    link: "https://darlingvietnam.net/wp-content/uploads/tu-lanh-darling-nad1580wx-02.jpg",
    ten: "TU LANH 03",
    gia: "56",
    info: "Lorem ipsum dolor sit amet consectetur, adipisicing elit.",
    danhMuc: "Tủ Lạnh",

  },
  {
    link: "https://images.pexels.com/photos/2883049/pexels-photo-2883049.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",
    ten: "KE SACH 01",
    gia: "56",
    info: "Lorem ipsum dolor sit amet consectetur, adipisicing elit.",
    danhMuc: "Tủ",

  },
  {
    link: "https://images.pexels.com/photos/271816/pexels-photo-271816.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",
    ten: "TU DO 01",
    gia: "56",
    info: "Lorem ipsum dolor sit amet consectetur, adipisicing elit.",
    danhMuc: "Tủ",

  },
  {
    link: "https://images.pexels.com/photos/4440116/pexels-photo-4440116.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",
    ten: "KE SACH 02",
    gia: "56",
    info: "Lorem ipsum dolor sit amet consectetur, adipisicing elit.",
    danhMuc: "Tủ",

  },
  {
    link: "https://images.pexels.com/photos/775219/pexels-photo-775219.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",
    ten: "GIUONG NAM 01",
    gia: "56",
    info: "Lorem ipsum dolor sit amet consectetur, adipisicing elit.",
    danhMuc: "Nệm",

  },
  {
    link: "https://images.pexels.com/photos/2631746/pexels-photo-2631746.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",
    ten: "GIUONG NAM 02",
    gia: "56",
    info: "Lorem ipsum dolor sit amet consectetur, adipisicing elit.",
    danhMuc: "Nệm",

  },
  // {
  //   link:" ",
  //   ten:" ",
  //   gia:" ",
  //   info:" ",
  //   },
  //   {
  //     link:" ",
  //     ten:" ",
  //     gia:" ",
  //     info:" ",
  //     },
  //     {
  //       link:" ",
  //       ten:" ",
  //       gia:" ",
  //       info:" ",
  //       },                                                                          

];
if (JSON.parse(localStorage.getItem("listSanPham1")) != null) {
  if (JSON.parse(localStorage.getItem("listSanPham1")).length != 0) {
    listSanPham = JSON.parse(localStorage.getItem("listSanPham1"))
  } else { listSanPham = listSanPham1; localStorage.setItem("listSanPham1", JSON.stringify(listSanPham)) }
} else {
  listSanPham = listSanPham1
  localStorage.setItem("listSanPham1", JSON.stringify(listSanPham))
}












function snackbar(biensnack) {
  var x = document.getElementById("snackbar");
  x.innerHTML = biensnack;
  x.className = "show";
  setTimeout(function () { x.className = x.className.replace("show", ""); }, 3000);
}


function laySoThuTu() {
  let lsp = listSanPham.map((a, b) => {
    return {
      link: a.link,
      ten: a.ten,
      gia: a.gia,
      info: a.info,
      stt: b + 1,
    }
  }
  )

}
laySoThuTu()


//phân trang 
let start = 0;
let end = 5;
let trangHienTai = 1;
let trangHienThi = 5;
let tongSoTrang;

function phanTrang(abc) {
  let result = "";
  let phanTrang = document.getElementById("phanTu1");

  if (abc == "home" || abc == "tatCa") {
    tongSoTrang = Math.ceil(listSanPham.length / trangHienThi);
    for (let i = 0; i < tongSoTrang; i++) {
      result += `
  <div onclick="trangHienTai1(${i + 1})" class="trangHienTai1">${i + 1}</div>
  `
    }
    phanTrang.innerHTML = result;
    let trangHienTai1 = document.getElementsByClassName("trangHienTai1");
    for (let i = 0; i < trangHienTai1.length; i++) {
      trangHienTai1[i].style.color = ""
      trangHienTai1[i].style.cursor = "pointer"
    }
    trangHienTai1[trangHienTai - 1].style.color = "red"
  } else {

    tongSoTrang = Math.ceil(listSanPham.length / trangHienThi);
    for (let i = 0; i < tongSoTrang; i++) {
      result += `
    <div onclick="" class="trangHienTai1">${i + 1}</div>
    `
    }
    phanTrang.innerHTML = result;
    let trangHienTai1 = document.getElementsByClassName("trangHienTai1");
    for (let i = 0; i < trangHienTai1.length; i++) {
      trangHienTai1[i].style.color = ""
      trangHienTai1[i].style.cursor = "pointer"
    }
    trangHienTai1[trangHienTai - 1].style.color = "red"



  }




}
phanTrang("home")

function trangHienTai1(a) {
  let trangHienTai1 = document.getElementsByClassName("trangHienTai1");
  trangHienTai = a;
  start = (trangHienTai - 1) * trangHienThi;
  end = trangHienTai * trangHienThi;
  hienThiSanPham()
  for (let i = 0; i < trangHienTai1.length; i++) {
    trangHienTai1[i].style.color = ""
  }
  trangHienTai1[a - 1].style.color = "red"
}
function trangTiepTheo() {
  if (trangHienTai < tongSoTrang) {
    trangHienTai++;
    start = (trangHienTai - 1) * trangHienThi;
    end = trangHienTai * trangHienThi;

    hienThiSanPham();
    let trangHienTai1 = document.getElementsByClassName("trangHienTai1");
    for (let i = 0; i < trangHienTai1.length; i++) {
      trangHienTai1[i].style.color = ""
    }
    trangHienTai1[trangHienTai - 1].style.color = "red"
  }

}
function trangTruocDo() {
  if (trangHienTai > 1) {
    trangHienTai--;
    start = (trangHienTai - 1) * trangHienThi;
    end = trangHienTai * trangHienThi;

    hienThiSanPham();
    let trangHienTai1 = document.getElementsByClassName("trangHienTai1");
    for (let i = 0; i < trangHienTai1.length; i++) {
      trangHienTai1[i].style.color = ""
    }
    trangHienTai1[trangHienTai - 1].style.color = "red"
  }
}



function hienThiSanPham(abcd) {
  if (abcd == "home") {
    start = 0;
    end = 5;
    trangHienTai = 1;
    trangHienThi = 5;
    tongSoTrang;
    phanTrang("home")
  }


  let noiDung = document.getElementsByClassName("container");
  let result = "";

  for (let i = start; i < end; i++) {
    // listSanPham.forEach((a)=>{
    if (i < listSanPham.length) {
      result += `
        <div class="items" id="items1">
                  <div class="img img1"><img src="${listSanPham[i].link}" alt=""></div>
                  <div class="name">${listSanPham[i].ten}</div>
                  <div class="price">${listSanPham[i].gia}$</div>
                  <div class="gioHang"><span class="material-symbols-outlined" onclick="themVaoGio('${listSanPham[i].link}')">shopping_cart</span></div>
                  <div class="info">${listSanPham[i].info}</div>
                </div>
        
        
        `
    }
    // })
  }

  noiDung[0].innerHTML = result;
  if (abcd == "tatCa") {
    result = "";
    listSanPham.forEach((a) => {

      result += `
          <div class="items" id="items1">
                    <div class="img img1"><img src="${a.link}" alt=""></div>
                    <div class="name">${a.ten}</div>
                    <div class="price">${a.gia}$</div>
                    <div class="gioHang"><span class="material-symbols-outlined" onclick="themVaoGio('${a.link}')">shopping_cart</span></div>
                    <div class="info">${a.info}</div>
                  </div>
          
          
          `
    })
    noiDung[0].innerHTML = result;
    trangHienThi = listSanPham.length;
    trangHienTai = 0;
    phanTrang("tatCa")
  }

  //
  if (abcd == "Tủ Lạnh" || abcd == "Ti Vi" || abcd == "Máy Giặt" || abcd == "Tủ" || abcd == "Bàn Ghế" || abcd == "Nệm" || abcd == "Bếp" || abcd == "Tranh Treo Tường" || abcd == "Chung") {
    result = "";
    listSanPham.forEach((a) => {
      if (a.danhMuc == abcd) {
        result += `
          <div class="items" id="items1">
                    <div class="img img1"><img src="${a.link}" alt=""></div>
                    <div class="name">${a.ten}</div>
                    <div class="price">${a.gia}$</div>
                    <div class="gioHang"><span class="material-symbols-outlined" onclick="themVaoGio('${a.link}')">shopping_cart</span></div>
                    <div class="info">${a.info}</div>
                  </div>
          
          
          `
      }
    })
    noiDung[0].innerHTML = result;
    trangHienThi = listSanPham.length;
    trangHienTai = 1;
    tongSoTrang = 1;
    phanTrang("a")
  }



}



hienThiSanPham()



function search() {
  let d = document.getElementById("input").value.toUpperCase();
  let c = document.querySelectorAll(".items");
  let a = document.querySelectorAll(".items .name");
  if (d != "") {
    c.forEach(b => {
      b.classList.add("hidden")

    })
  }
  if (d == "") {
    c.forEach(b => {
      b.classList.remove("hidden")
    })
  }
  a.forEach(b => {
    let b1 = b.innerHTML.toUpperCase();
    if (b1.indexOf(d) != -1) {
      c.forEach(b => {
        if (b.innerHTML.indexOf(d) != -1) {
          b.classList.remove("hidden");
        }
      })
    }
  })
}

function search1() {
  let d = document.getElementById("input").value.toUpperCase();
  let c = document.querySelectorAll(".items009");
  let a = document.querySelectorAll(".items009 .name1");
  if (d != "") {
    c.forEach(b => {
      b.classList.add("hidden")
    })
  }
  if (d == "") {
    c.forEach(b => {
      b.classList.remove("hidden")
    })
  }
  a.forEach(b => {
    if (b.innerHTML.indexOf(d) != -1) {
      c.forEach(b => {
        if (b.innerHTML.indexOf(d) != -1) {
          b.classList.remove("hidden");
        }
      })
    }
  })
}

let trangThai = localStorage.getItem("online");
if (trangThai != null) {
  let dangNhap = document.getElementById("dangNhap");
  dangNhap.href = "";
  dangNhap.innerHTML = "ĐĂNG XUẤT";
  dangNhap.onclick = "dangXuat()";
  dangNhap.addEventListener("click", a => {
    localStorage.removeItem("online");
    let dangNhap = document.getElementById("dangNhap");
    dangNhap.href = "./webbanhang.html";
    dangNhap.innerHTML = "ĐĂNG NHẬP";
    localStorage.setItem("dangNhap", "1");
    // localStorage.removeItem("gioHangNguoiDung");


  })

}
document.getElementById("dangNhap").addEventListener("click", (a) => {
  localStorage.setItem("dangNhap", "1");

})


function xacNhanGioHang() {
  let gioHangHienThi = [];
  let dem = 0;
  let noiDung = document.getElementById("gioHang01");//html nhận code
  let trangThai = localStorage.getItem("online");
  let gioHangNguoiDung = JSON.parse(localStorage.getItem("gioHangNguoiDung"));//tong hop các người dùng
  if (trangThai != null) {
    if (gioHangNguoiDung != null) {
      gioHangNguoiDung.forEach((a) => {
        if (a[0].id == trangThai) {
          a.forEach((c) => {
            gioHangHienThi.push(c)
          })


        }
        else { dem = 1; }
      })

      if (gioHangHienThi.length != 0) {
        window.location.href = "./gioHang.html"
      }
      else {
        snackbar("Chưa có hàng trong giỏ");
      }










    } else {

    }
  } else {
    snackbar("Đăng nhập để xem giỏ hàng")
  }
}

function themVaoGio(a) {
  let gioHangNguoiDung1 = [];
  let ketQua = [];
  let link = a;
  let aa = listSanPham.find((b) => {
    return b.link == a
  })
  let ten = aa.ten;
  let info = aa.info;
  let tongTien = aa.gia;
  let soLuong = 1;
  let gia = aa.gia;
  let soHangTrongGio = document.querySelector(".heading1 .soluong1");


  let trangThai = localStorage.getItem("online");
  let bienDem1 = 0;
  let bien1 = 0;

  if (trangThai != null) {
    //sau khi dang nhap
    let gioHangNguoiDung = JSON.parse(localStorage.getItem("gioHangNguoiDung")) || [];//tong hop các người dùng    
    if (gioHangNguoiDung.length != 0) {//kiem tra gio hàng
      gioHangNguoiDung.forEach((b, c) => {//lay ve nguoi dung
        if (b[0].id == trangThai) {
          bienDem1 = 1;
          bien1 = c;
        }
      });





      if (bienDem1 == 1) {
        gioHangNguoiDung1 = [];
        gioHangNguoiDung[bien1].forEach((bb, cc) => {
          gioHangNguoiDung1.push(bb);//gio nguoi dung sau khi lay

        })

        let bienDem = 0;
        gioHangNguoiDung1.forEach((a01) => {
          if (a01.thongTin.link == link) {
            snackbar("Sản Phẩm Đã Có Trong Giỏ Hàng");
            bienDem = 1;
          } else {
            // alert("Sản Phẩm Đã Có Trong Giỏ Hàng")
          }
        })
        if (bienDem == 0) {
          ketQua = { id: trangThai, thongTin: { link: link, ten: ten, gia: gia, soLuong: soLuong } };
          gioHangNguoiDung1.push(ketQua);
          gioHangNguoiDung.splice(bien1, 1, gioHangNguoiDung1)
          localStorage.setItem("gioHangNguoiDung", JSON.stringify(gioHangNguoiDung));
          bienDem = 0;
        }

      } else {
        ketQua = { id: trangThai, thongTin: { link: link, ten: ten, tongTien: tongTien, soLuong: soLuong, gia: gia, } };
        gioHangNguoiDung1.push(ketQua);
        gioHangNguoiDung.push(gioHangNguoiDung1)
        localStorage.setItem("gioHangNguoiDung", JSON.stringify(gioHangNguoiDung));

      }



      //bắt đầu đi shopping



    } else {
      ketQua = { id: trangThai, thongTin: { link: link, ten: ten, tongTien: tongTien, soLuong: soLuong, gia: gia, } };
      gioHangNguoiDung1.push(ketQua);
      gioHangNguoiDung.push(gioHangNguoiDung1)
      localStorage.setItem("gioHangNguoiDung", JSON.stringify(gioHangNguoiDung));

    }
    soHangTrongGio.innerHTML = `${gioHangNguoiDung1.length}`

  }

  else {
    snackbar("Vui lòng đăng nhập để mua")
  }

}



//code giỏ hàng giohang.html
function hienThiGioHang() {
  let result = "";
  let gioHangHienThi = [];
  let dem = 0;
  let tongTienTatCa = document.getElementById("tongTienTatCa");
  let noiDung = document.getElementById("gioHang01");//html nhận code
  let trangThai = localStorage.getItem("online");
  let gioHangNguoiDung = JSON.parse(localStorage.getItem("gioHangNguoiDung"));//tong hop các người dùng
  if (trangThai != null) {
    if (gioHangNguoiDung != null) {
      gioHangNguoiDung.forEach((a) => {
        if (a[0].id == trangThai) {
          a.forEach((c) => {
            gioHangHienThi.push(c)
          })


        }
        else { dem = 1; };
        let soHangTrongGio = document.querySelector(".heading1 .soluong1");
        soHangTrongGio.innerHTML = `${gioHangHienThi.length}`

      })

      if (gioHangHienThi.length != 0) {



        gioHangHienThi.forEach((aa, bb) => {
          result += `
          <div class="items009">
                      <div class="img009"><img src="${aa.thongTin.link}" alt=""></div>
                      
                      <div class="img009-1">
                      <div class="name1">${aa.thongTin.ten}</div>
                      <div class="price1">${aa.thongTin.gia}$</div>
                      <div class="info1">Lorem ipsum dolor sit amet consectetur.</div>
                        </div>
        
                    <div class="img009-2">
                    <div class="info3">Số Lượng</div>
                    <div class="name2" onclick="truHang('${aa.thongTin.link}')"><div>-</div></div>
                    <div class="price2">${aa.thongTin.soLuong}</div>
                    <div class="info2" onclick="congHang('${aa.thongTin.link}')">+</div>
                    <div class="info3">Tổng Tiền</div>
                    <div class="info4">${Math.round(aa.thongTin.soLuong * aa.thongTin.gia)}$</div>
                    </div>
        
                    <div class="img009-3">
                    <div class="name3"><div>Mua Hàng</div></div>
                    </div>
        
                    <div class="img009-3">
                        <div class="name4" onclick="xoa('${aa.thongTin.link}')"><div >Xoá</div></div>
                        </div>
        
        
                    </div>
          
          
          `

        })
        tongTienTatCa.innerHTML = gioHangHienThi.reduce((bien01, bien02) => {
          console.log(bien02);
          return bien01 + parseInt(bien02.thongTin.gia * bien02.thongTin.soLuong);
        }, 0)
      }
      else {
      }
      noiDung.innerHTML = result;

    } else {
      // alert("Chưa có sản phẩm trong giỏ hàng")
      noiDung.innerHTML = `<div class="items009">Chưa có sản phẩm trong giỏ hàng </div>`
    }
  } else {

  }



}

hienThiGioHang();

///5
function xoa(a) {
  let gioHangHienThi = [];
  let gioHangNguoiDung = JSON.parse(localStorage.getItem("gioHangNguoiDung"));//tong hop các người dùng
  let trangThai = localStorage.getItem("online");
  ///4
  if (trangThai != null) {
    ///3
    gioHangNguoiDung.forEach((b, c) => {
      ///2
      if (b[0].id == trangThai) {
        ///1
        b.forEach((bb) => {
          gioHangHienThi.push(bb)

        })
        //1
        gioHangHienThi.forEach((aa, bb) => {
          if (aa.thongTin.link == a) {
            gioHangHienThi.splice(bb, 1)
            gioHangNguoiDung.splice(c, 1, gioHangHienThi)
            if (gioHangHienThi.length != 0) {
              localStorage.setItem("gioHangNguoiDung", JSON.stringify(gioHangNguoiDung));
            } else {
              gioHangNguoiDung.splice(c, 1)
              localStorage.setItem("gioHangNguoiDung", JSON.stringify(gioHangNguoiDung));
              window.location.href = "./webbanhang.html"
            }
          }
        })
      }
      //2




    })
    //3

    hienThiGioHang()
  } else {
    snackbar("Vui lòng đăng nhập")
  }
  //4  

}
//5

function congHang(a) {
  let gioHangHienThi = [];
  let trangThai = localStorage.getItem("online");
  let gioHangNguoiDung = JSON.parse(localStorage.getItem("gioHangNguoiDung"));//tong hop các người dùng
  gioHangNguoiDung.forEach((ab) => {
    if (ab[0].id == trangThai) {
      ab.forEach((cc) => {
        gioHangHienThi.push(cc)
      })


    }
    else { dem = 1; }
  })

  gioHangHienThi.forEach((b, c) => {
    if (b.thongTin.link == a) {
      b.thongTin.soLuong += 1;
      gioHangHienThi.splice(c, 1, b);

      gioHangNguoiDung.forEach((aa, bb) => {
        if (aa[0].id == trangThai) {
          gioHangNguoiDung.splice(bb, 1, gioHangHienThi)
          localStorage.setItem("gioHangNguoiDung", JSON.stringify(gioHangNguoiDung));

        }
      })


    }

  })
  hienThiGioHang();
}


function truHang(a) {
  let gioHangHienThi = [];
  let trangThai = localStorage.getItem("online");
  let gioHangNguoiDung = JSON.parse(localStorage.getItem("gioHangNguoiDung"));//tong hop các người dùng
  gioHangNguoiDung.forEach((a) => {
    if (a[0].id == trangThai) {
      a.forEach((c) => {
        gioHangHienThi.push(c)
      })


    }
    else { dem = 1; }
  })
  gioHangHienThi.forEach((b, c) => {
    if (b.thongTin.link == a) {
      if (b.thongTin.soLuong > 0) {
        b.thongTin.soLuong -= 1;
      }
      gioHangHienThi.splice(c, 1, b);
      gioHangNguoiDung.forEach((aa, bb) => {
        if (aa[0].id == trangThai) {
          gioHangNguoiDung.splice(bb, 1, gioHangHienThi)
          localStorage.setItem("gioHangNguoiDung", JSON.stringify(gioHangNguoiDung));

        }
      })


    }

  })
  hienThiGioHang();
}



